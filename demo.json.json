{"mode":"block","xmlText":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"w.id%7%[DRqT|/dy!Y*c\">distance</variable><variable id=\"djQF0m9gCkjMWPLfi)ZP\">led_warning</variable><variable id=\"o];e($:!=@-ESc@g,ic`\">cmd</variable><variable id=\"W{[sJ]};Oa0[Nr^~p`F*\">counter</variable></variables><block type=\"yolobit_events_timer\" id=\"V_/[Ubtsk%AC@oj_X=%^\" x=\"412\" y=\"-488\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"!7vBk)/;Q~GWZbSf6/LO\"><field name=\"NUM\">5</field></shadow></value><statement name=\"ACTION\"><block type=\"aiot_dht_measure\" id=\"{{{2XR9}u{=Q1zsEk[N,\"><next><block type=\"aiot_lcd1602_clear\" id=\"4c?8zUPyH?Fgn]G.,PZ+\"><next><block type=\"xbot_serial_write_string\" id=\"4/NS::k_,4/3={5#9Zx8\"><value name=\"string\"><shadow type=\"text\" id=\"={P?V?D6,{fV#5`^bgj-\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"w%X5B6R*@PR.d`r1Hf4)\"><mutation items=\"9\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\")j~9@9cRMdF,]hJn4shS\"><field name=\"TEXT\">!</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"6ibTo`E7{C@YiM0vd[a|\"><field name=\"TEXT\">TEMP</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"-sD06!D~$Q1=D{o*OJ{S\"><field name=\"TEXT\">:</field></block></value><value name=\"ADD3\"><block type=\"aiot_dht_read\" id=\"tUbg1K_]2N@ppObwDm-l\"><field name=\"DATA\">TEMP</field></block></value><value name=\"ADD4\"><block type=\"text\" id=\"?b=d=CzW^klj]?u{+I?Z\"><field name=\"TEXT\">:</field></block></value><value name=\"ADD5\"><block type=\"text\" id=\"d`}1gVRuj#S7pPYhry~z\"><field name=\"TEXT\">HUMI</field></block></value><value name=\"ADD6\"><block type=\"text\" id=\"5KFDe.D]s:m#YH18T:T,\"><field name=\"TEXT\">:</field></block></value><value name=\"ADD7\"><block type=\"aiot_dht_read\" id=\"g?DM9B;rlmulP/AxO?r@\"><field name=\"DATA\">HUMID</field></block></value><value name=\"ADD8\"><block type=\"text\" id=\";E$(fTsCjy)wI3}achgc\"><field name=\"TEXT\">#</field></block></value></block></value><next><block type=\"aiot_lcd1602_display\" id=\"5ArLp?^}][%B@8L@e%Dx\"><value name=\"string\"><shadow type=\"text\" id=\"K.2e~)a,C%]L$m3Ry]{I\"><field name=\"TEXT\">Hello</field></shadow><block type=\"text_join\" id=\"3,!W;[A|NgmXFgXN.uz?\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\";.e|hi8W$`ZbCes!t2Ku\"><field name=\"TEXT\">NHIET DO:</field></block></value><value name=\"ADD1\"><block type=\"aiot_dht_read\" id=\"28aI1qbotVGO%L)mc.Qz\"><field name=\"DATA\">TEMP</field></block></value></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"|GF8L*;X~9ozOzs!C3$X\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"o^u7[SvGNI*TBh]WJx*x\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_lcd1602_display\" id=\"{OG64tH]5}snpha,O`%H\"><value name=\"string\"><shadow type=\"text\" id=\"5EB0#bZLpQj)_}(oMoZ:\"><field name=\"TEXT\">Hello</field></shadow><block type=\"text_join\" id=\"s)q61k_L{aHg(1qZi6#y\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"(k=qm??kDKyP+=^z@F4f\"><field name=\"TEXT\">DO AM:</field></block></value><value name=\"ADD1\"><block type=\"aiot_dht_read\" id=\"LOMnHvN=X:E#]XtNKPll\"><field name=\"DATA\">HUMID</field></block></value></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"aBVIYY?5ViB@x79*qH%Y\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"H5skJz]kDL%xv?_FCl2]\"><field name=\"NUM\">1</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"rd{4)Xc*^p~9q[:,edY]\" x=\"1687\" y=\"-488\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\",$t$z1uF3RdVVyPhhoxd\"><field name=\"NUM\">10</field></shadow></value><statement name=\"ACTION\"><block type=\"variables_set\" id=\"W?vj+y$H1R96mmi7%stW\"><field name=\"VAR\" id=\"w.id%7%[DRqT|/dy!Y*c\">distance</field><value name=\"VALUE\"><block type=\"aiot_ultrasonic_read\" id=\"hfQo[_,p!HO_g^ee=EFc\"><field name=\"TYPE\">CM</field></block></value><next><block type=\"controls_if\" id=\"1=`p~`v+C0E`IUg;C-.Q\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_operation\" id=\"Uxas:yc+x=n~RFMS:3~6\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"aiot_detect_motion\" id=\"*4wA-=H5t8X#ME00[*bl\"><field name=\"NAME\">pin16</field></block></value><value name=\"B\"><block type=\"logic_compare\" id=\"z1PznOu!stz=dZSZ(:kR\"><field name=\"OP\">LTE</field><value name=\"A\"><block type=\"variables_get\" id=\"j}eF(7Kq-]Qc=]gz-F+6\"><field name=\"VAR\" id=\"w.id%7%[DRqT|/dy!Y*c\">distance</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"WVwNgt(esh|4uT9C+e%Z\"><field name=\"NUM\">60</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"xbot_serial_write_string\" id=\"Kj4Wd6PaQ^H,:[{dJx*h\"><value name=\"string\"><shadow type=\"text\" id=\"s+T0Ei8]TQHXzC|ZQ=rT\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"*kXOBS/ZEyLTx~Ui%[P*\"><mutation items=\"9\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"FIN!@IGsxNsbcjt3;kI-\"><field name=\"TEXT\">!</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"M4Y,.*VC7YS^!2},Om/q\"><field name=\"TEXT\">WARN</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"`|nFaKb7Rg-J%,jNQd71\"><field name=\"TEXT\">:</field></block></value><value name=\"ADD3\"><block type=\"text\" id=\"nsp2@Ju590VQFykhyp[e\"><field name=\"TEXT\">1</field></block></value><value name=\"ADD4\"><block type=\"text\" id=\"M*Ra,2pi!B]3|4=da[XT\"><field name=\"TEXT\">:</field></block></value><value name=\"ADD5\"><block type=\"text\" id=\"UXKy7bcgiNMgbZ/PYGxW\"><field name=\"TEXT\">DIST</field></block></value><value name=\"ADD6\"><block type=\"text\" id=\"W=?1]t)Xf7@FbS:X149|\"><field name=\"TEXT\">:</field></block></value><value name=\"ADD7\"><block type=\"variables_get\" id=\"+^jdk?XC*Nx!Rbt|c;NP\"><field name=\"VAR\" id=\"w.id%7%[DRqT|/dy!Y*c\">distance</field></block></value><value name=\"ADD8\"><block type=\"text\" id=\"4h:-FukcTKW){c^.x;3Q\"><field name=\"TEXT\">#</field></block></value></block></value><next><block type=\"controls_if\" id=\"20+icbs7dibdpk*^;#}J\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"ON-p-SvPK1iA~~g{)PmA\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"?.e:LgzQqM~(.1dU#=B`\"><field name=\"VAR\" id=\"djQF0m9gCkjMWPLfi)ZP\">led_warning</field></block></value><value name=\"B\"><block type=\"text\" id=\"o!8R4p2YA:X}{mDB6`QJ\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_led_tiny_set_all\" id=\",4pd?h{=R(kfkg-(2b=q\"><field name=\"port\">pin14</field><field name=\"option\">2</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"Lq/Qx0aw}|!4vqhK~0hk\"><field name=\"COLOUR\">#ff0000</field></shadow></value><next><block type=\"aiot_led_tiny_set_all\" id=\"9Mj7]T9`1%;Wdxx0m-/S\"><field name=\"port\">pin14</field><field name=\"option\">4</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"x)2RkeS)9!EH)gRPBL$D\"><field name=\"COLOUR\">#ff0000</field></shadow></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"aiot_led_tiny_set_all\" id=\"ehU2TOY4|EtjWRSh*??l\"><field name=\"port\">pin14</field><field name=\"option\">2</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"Ck5`mDy=+$ll4USIdMo,\"><field name=\"COLOUR\">#000000</field></shadow></value><next><block type=\"aiot_led_tiny_set_all\" id=\"wj]c/LqgJ64p)770;Q.3\"><field name=\"port\">pin14</field><field name=\"option\">4</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"qOg:IR7x3LxLaelJ,/)U\"><field name=\"COLOUR\">#000000</field></shadow></value></block></next></block></statement></block></next></block></statement><statement name=\"ELSE\"><block type=\"xbot_serial_write_string\" id=\"IN[(7cd9~/W)JE[smGVZ\"><value name=\"string\"><shadow type=\"text\" id=\"s+T0Ei8]TQHXzC|ZQ=rT\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"pbAOgHCvkH*.W}GA-;cK\"><mutation items=\"9\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"sP%48sx:|@7u{;@o}zzt\"><field name=\"TEXT\">!</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"Sauo!%fmN8n8HNCi3wVc\"><field name=\"TEXT\">WARN</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"2c77zz7?AjG=pFiBV-Df\"><field name=\"TEXT\">:</field></block></value><value name=\"ADD3\"><block type=\"text\" id=\"ON0^67ntY@UyB5i8k:Wn\"><field name=\"TEXT\">0</field></block></value><value name=\"ADD4\"><block type=\"text\" id=\"0wQk.I/oMY69tg]AqABI\"><field name=\"TEXT\">:</field></block></value><value name=\"ADD5\"><block type=\"text\" id=\"3t]nlop}u~I#_X4r+cj{\"><field name=\"TEXT\">DIST</field></block></value><value name=\"ADD6\"><block type=\"text\" id=\"-njHV|tgyrG2:8QfGZOh\"><field name=\"TEXT\">:</field></block></value><value name=\"ADD7\"><block type=\"variables_get\" id=\"=S0/z303U*cY:/a;hmdl\"><field name=\"VAR\" id=\"w.id%7%[DRqT|/dy!Y*c\">distance</field></block></value><value name=\"ADD8\"><block type=\"text\" id=\"j_|IkK#FyM5}@$E@[:nb\"><field name=\"TEXT\">#</field></block></value></block></value><next><block type=\"controls_if\" id=\";HUL{O4]3!k:9w9sVckG\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"e2#U7f#^%tB,U9@dFhAg\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\",9wHT~,5f=(Ay0!D6(gg\"><field name=\"VAR\" id=\"djQF0m9gCkjMWPLfi)ZP\">led_warning</field></block></value><value name=\"B\"><block type=\"text\" id=\"4P,}eN$W@eUK6P7A`UW[\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_led_tiny_set_all\" id=\"d@fV%A9V~SR~o].%BCL5\"><field name=\"port\">pin14</field><field name=\"option\">2</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"8FS14uNzeS-w+ymc5(C_\"><field name=\"COLOUR\">#00ff00</field></shadow></value><next><block type=\"aiot_led_tiny_set_all\" id=\"H#CQ?kO4OUm.sLuKi14a\"><field name=\"port\">pin14</field><field name=\"option\">4</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"mIa.b$Ed/Fk,M?*z,,pH\"><field name=\"COLOUR\">#00ff00</field></shadow></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"aiot_led_tiny_set_all\" id=\"07;bD$*-#6@+b#c$2S|5\"><field name=\"port\">pin14</field><field name=\"option\">2</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"aCV!q4aS/[4Cf1:KX:~u\"><field name=\"COLOUR\">#000000</field></shadow></value><next><block type=\"aiot_led_tiny_set_all\" id=\"kV7#sg%m}M;QU|HVY9^v\"><field name=\"port\">pin14</field><field name=\"option\">4</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"d6hnMuL;!*nJ4jy~Rify\"><field name=\"COLOUR\">#000000</field></shadow></value></block></next></block></statement></block></next></block></statement></block></next></block></statement></block><block type=\"yolobit_basic_forever\" id=\"w5Bl*-!,Ihc8X2tI)wP*\" x=\"-462\" y=\"-262\"><statement name=\"ONSTART\"><block type=\"aiot_lcd1602_display\" id=\"|R+[X579JZB#?M1v@SLQ\"><value name=\"string\"><shadow type=\"text\" id=\"+WGyEE6VeF:@1pSupYYT\"><field name=\"TEXT\">WELCOM...</field></shadow></value><value name=\"X\"><shadow type=\"math_number\" id=\"!kuj+GD2aeK;]9}/XdK{\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\",^{@5rF}aGk`hHfcRvEC\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"yolobit_basic_sleep\" id=\"68n()frEG/[u%7KExPao\"><value name=\"duration\"><shadow type=\"math_number\" id=\"a1#N2K8c6IpJ7Q4iPrn=\"><field name=\"NUM\">2000</field></shadow></value><next><block type=\"variables_set\" id=\"o%$aQ#/ON5G8mktp6V-]\"><field name=\"VAR\" id=\"o];e($:!=@-ESc@g,ic`\">cmd</field><value name=\"VALUE\"><block type=\"yolobit_device_read_terminal\" id=\"kygI;0Agnj40[ode2|-c\"></block></value><next><block type=\"variables_set\" id=\"9hy*,a:-?uUW=^A;!#+L\"><field name=\"VAR\" id=\"W{[sJ]};Oa0[Nr^~p`F*\">counter</field><value name=\"VALUE\"><block type=\"math_number\" id=\"j-whiFJ~hjhK;H9$@QW2\"><field name=\"NUM\">0</field></block></value><next><block type=\"controls_whileUntil\" id=\"h[R[h.cJ|-?;T~x8MvNg\"><field name=\"MODE\">UNTIL</field><value name=\"BOOL\"><block type=\"logic_compare\" id=\"JHpy/%4d*Z4hTqUZW$*t\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"/J.`STFlo~N!664}qA~C\"><field name=\"VAR\" id=\"o];e($:!=@-ESc@g,ic`\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"fOU|XMfuNp.sZ3by5s5a\"><field name=\"TEXT\">oke_server</field></block></value></block></value><statement name=\"DO\"><block type=\"controls_if\" id=\"t$^({%l!Vxl{JaEqqft*\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"TKq;`#z0s3SF95z!8^+J\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"?V%]ybp)rjftppxj7DW!\"><field name=\"VAR\" id=\"W{[sJ]};Oa0[Nr^~p`F*\">counter</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"R!rns@[uhOr0w;C,=Y!d\"><field name=\"NUM\">10</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_flow_statements\" id=\"VInH;dA{t$01E/Q#J)o=\"><field name=\"FLOW\">BREAK</field></block></statement><next><block type=\"math_change\" id=\"I/({d5Y?tZvc!fLMTpM#\"><field name=\"VAR\" id=\"W{[sJ]};Oa0[Nr^~p`F*\">counter</field><value name=\"DELTA\"><shadow type=\"math_number\" id=\"}ZlP=IpCn!y5:e#o|ZQx\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"aiot_lcd1602_display\" id=\"GilW__5*t2@3K12;R-cm\"><value name=\"string\"><shadow type=\"text\" id=\"I9?u-!r,p8Ak%ngd+G0.\"><field name=\"TEXT\">Connect to server...</field></shadow></value><value name=\"X\"><shadow type=\"math_number\" id=\"*)81P_)F_(8ub~]9Yf1J\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"0LBRsEvg)]3kX|o)N!m+\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"yolobit_basic_sleep\" id=\"D}N.cit~ozug:[o6A+`v\"><value name=\"duration\"><shadow type=\"math_number\" id=\":lpyto7H3[f*Z8s:|bbS\"><field name=\"NUM\">1000</field></shadow></value></block></next></block></next></block></next></block></statement><next><block type=\"aiot_ultrasonic_create\" id=\"K}^u5L?wmqS_d(X0X-!:\"><field name=\"TRG\">pin3</field><field name=\"ECH\">pin6</field></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"FOREVER\"><block type=\"yolobit_events_run\" id=\")S=|`R`vEisU!3rencV|\"><next><block type=\"variables_set\" id=\"WzKe_3A=/r]E,3HkNi`.\"><field name=\"VAR\" id=\"o];e($:!=@-ESc@g,ic`\">cmd</field><value name=\"VALUE\"><block type=\"yolobit_device_read_terminal\" id=\"YYgCSn5bQ4[=qvB7qt1#\"></block></value></block></next></block></statement></block><block type=\"yolobit_events_condition\" id=\"Vm1(@OyK}Q`a:#~EsXg1\" x=\"363\" y=\"88\"><value name=\"CONDITION\"><block type=\"logic_compare\" id=\"k!dUjEsd.+3=zarmGYUm\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"yZ4iiMx^,9{[0Ag*(k8^\"><field name=\"VAR\" id=\"o];e($:!=@-ESc@g,ic`\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"9IUNtX(mwTkj#oF|.MSR\"><field name=\"TEXT\">on_led</field></block></value></block></value><statement name=\"ACTION\"><block type=\"aiot_led_tiny_set_all\" id=\"WmuTvAC7(12=!)*Y@,7D\"><field name=\"port\">pin14</field><field name=\"option\">1</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"}p,(4+/PII`^Q^e[0-$I\"><field name=\"COLOUR\">#ffffff</field></shadow></value><next><block type=\"aiot_led_tiny_set_all\" id=\"yj%wUm+yZ5?`aZS^f]yO\"><field name=\"port\">pin14</field><field name=\"option\">3</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"oZ1h%KAArJxbm{OvLP`6\"><field name=\"COLOUR\">#ffffff</field></shadow></value></block></next></block></statement></block><block type=\"yolobit_events_condition\" id=\"c4Fx#{iA.RH=|era2Fb-\" x=\"863\" y=\"137\"><value name=\"CONDITION\"><block type=\"logic_compare\" id=\"L--SWJsXULYZX;rKw/XM\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"n]CiPoFbOB6x_-zk`Y[R\"><field name=\"VAR\" id=\"o];e($:!=@-ESc@g,ic`\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"x%(NDS|Vm8pf;3Vc{@7W\"><field name=\"TEXT\">on_led_warn</field></block></value></block></value><statement name=\"ACTION\"><block type=\"variables_set\" id=\"S:260j9/NJx/]dsJmY${\"><field name=\"VAR\" id=\"djQF0m9gCkjMWPLfi)ZP\">led_warning</field><value name=\"VALUE\"><block type=\"text\" id=\"f,DqfzfFe7rK:$25=/I7\"><field name=\"TEXT\">1</field></block></value><next><block type=\"yolobit_basic_show_image\" id=\"I-0%#R-Rx5|8lT0kN4XA\"><value name=\"image\"><block type=\"yolobit_basic_create_image\" id=\"]Xb_LA$e4.`B5/b8EqKY\"><field name=\"00\">#000000</field><field name=\"01\">#000000</field><field name=\"02\">#000000</field><field name=\"03\">#000000</field><field name=\"04\">#000000</field><field name=\"10\">#000000</field><field name=\"11\">#000000</field><field name=\"12\">#000000</field><field name=\"13\">#000000</field><field name=\"14\">#ffffff</field><field name=\"20\">#000000</field><field name=\"21\">#000000</field><field name=\"22\">#000000</field><field name=\"23\">#ffffff</field><field name=\"24\">#000000</field><field name=\"30\">#ffffff</field><field name=\"31\">#000000</field><field name=\"32\">#ffffff</field><field name=\"33\">#000000</field><field name=\"34\">#000000</field><field name=\"40\">#000000</field><field name=\"41\">#ffffff</field><field name=\"42\">#000000</field><field name=\"43\">#000000</field><field name=\"44\">#000000</field></block></value></block></next></block></statement></block><block type=\"yolobit_events_condition\" id=\"$,Lt`*T4Z^:h`RWj`CV/\" x=\"363\" y=\"262\"><value name=\"CONDITION\"><block type=\"logic_compare\" id=\"ojwRpQxR~Aj/eR.fsPAP\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"(kZLh2bG)M51,yUr`.[$\"><field name=\"VAR\" id=\"o];e($:!=@-ESc@g,ic`\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"YnQcN7t[sk,a$P/L:1WW\"><field name=\"TEXT\">off_led</field></block></value></block></value><statement name=\"ACTION\"><block type=\"aiot_led_tiny_set_all\" id=\"Rvf]ShI[UEB@R]g)G^#?\"><field name=\"port\">pin14</field><field name=\"option\">1</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\":Lq7dU#40u(EBsU_CObX\"><field name=\"COLOUR\">#000000</field></shadow></value><next><block type=\"aiot_led_tiny_set_all\" id=\"h[6mw[zJkPeXPv,3ed/(\"><field name=\"port\">pin14</field><field name=\"option\">3</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\",BmfpW`+8Lm@LblU3H#@\"><field name=\"COLOUR\">#000000</field></shadow></value></block></next></block></statement></block><block type=\"yolobit_events_condition\" id=\":6C`f!tX-`j9.+~727c^\" x=\"362\" y=\"437\"><value name=\"CONDITION\"><block type=\"logic_compare\" id=\"sychq!9:oT^0giV=rFmy\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"n7LHY{mktG%WLM9V::v]\"><field name=\"VAR\" id=\"o];e($:!=@-ESc@g,ic`\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"Q=n^kE`@}yL6,e.q_]=D\"><field name=\"TEXT\">on_fan</field></block></value></block></value><statement name=\"ACTION\"><block type=\"aiot_minifan\" id=\"B]z)eaSk5wN!yV?5j0^+\"><field name=\"NAME\">pin10</field><value name=\"percent\"><shadow type=\"math_number\" id=\"oJ|8%kM}3`cQ.t|RQaVC\"><field name=\"NUM\">50</field></shadow></value></block></statement></block><block type=\"yolobit_events_condition\" id=\"GR+fTG858F8EN3uMq|Cc\" x=\"862\" y=\"412\"><value name=\"CONDITION\"><block type=\"logic_compare\" id=\"=!X,z|??i~I@|oKgOFc,\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"uHE3$#@JIg_3iw.!|E7j\"><field name=\"VAR\" id=\"o];e($:!=@-ESc@g,ic`\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"*D=w^Jnxv1lhw}u)duvR\"><field name=\"TEXT\">off_led_warn</field></block></value></block></value><statement name=\"ACTION\"><block type=\"variables_set\" id=\"0mdiu1E~izyQkv$dWL]i\"><field name=\"VAR\" id=\"djQF0m9gCkjMWPLfi)ZP\">led_warning</field><value name=\"VALUE\"><block type=\"text\" id=\"ZHyLj/wywiQh1LVF|hGY\"><field name=\"TEXT\">0</field></block></value><next><block type=\"yolobit_basic_show_image\" id=\"A~oo/H8FfUW@/~rXW_==\"><value name=\"image\"><block type=\"yolobit_basic_create_image\" id=\"SOj`2p06Vg-12(et@o@^\"><field name=\"00\">#000000</field><field name=\"01\">#000000</field><field name=\"02\">#000000</field><field name=\"03\">#000000</field><field name=\"04\">#000000</field><field name=\"10\">#000000</field><field name=\"11\">#000000</field><field name=\"12\">#ffffff</field><field name=\"13\">#000000</field><field name=\"14\">#ffffff</field><field name=\"20\">#000000</field><field name=\"21\">#000000</field><field name=\"22\">#000000</field><field name=\"23\">#ffffff</field><field name=\"24\">#000000</field><field name=\"30\">#000000</field><field name=\"31\">#000000</field><field name=\"32\">#ffffff</field><field name=\"33\">#000000</field><field name=\"34\">#ffffff</field><field name=\"40\">#000000</field><field name=\"41\">#000000</field><field name=\"42\">#000000</field><field name=\"43\">#000000</field><field name=\"44\">#000000</field></block></value></block></next></block></statement></block><block type=\"yolobit_events_condition\" id=\"NSKUG@f8+`@Su}+nZ7%!\" x=\"363\" y=\"562\"><value name=\"CONDITION\"><block type=\"logic_compare\" id=\"l5x9Vf%A9b:y{ba13S`d\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"6SfV0ww}oY3ajwjWa:Z|\"><field name=\"VAR\" id=\"o];e($:!=@-ESc@g,ic`\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"5gV+XLiBpch-w^T68alA\"><field name=\"TEXT\">off_fan</field></block></value></block></value><statement name=\"ACTION\"><block type=\"aiot_minifan\" id=\"!^TM)g5])ra+liq0k}MG\"><field name=\"NAME\">pin10</field><value name=\"percent\"><shadow type=\"math_number\" id=\"Y)qS@cEAB$H+x%1wwnM}\"><field name=\"NUM\">0</field></shadow></value></block></statement></block></xml>","python":"from event_manager import *\nfrom machine import Pin, SoftI2C\nfrom aiot_dht20 import DHT20\nfrom aiot_lcd1602 import LCD1602\nfrom yolobit import *\nbutton_a.on_pressed = None\nbutton_b.on_pressed = None\nbutton_a.on_pressed_ab = button_b.on_pressed_ab = -1\nfrom aiot_rgbled import RGBLed\nimport time\nimport sys\nimport uselect\nfrom aiot_hcsr04 import HCSR04\n\nevent_manager.reset()\n\naiot_dht20 = DHT20(SoftI2C(scl=Pin(22), sda=Pin(21)))\n\naiot_lcd1602 = LCD1602()\n\ndef on_event_timer_callback_V_U_b_t_s():\n  global distance, led_warning, cmd, counter\n  aiot_dht20.read_dht20()\n  aiot_lcd1602.clear()\n  print((''.join([str(x) for x in ['!', 'TEMP', ':', aiot_dht20.dht20_temperature(), ':', 'HUMI', ':', aiot_dht20.dht20_humidity(), '#']])), end =' ')\n  aiot_lcd1602.move_to(0, 0)\n  aiot_lcd1602.putstr(('NHIET DO:' + str(aiot_dht20.dht20_temperature())))\n  aiot_lcd1602.move_to(0, 1)\n  aiot_lcd1602.putstr(('DO AM:' + str(aiot_dht20.dht20_humidity())))\n\nevent_manager.add_timer_event(5000, on_event_timer_callback_V_U_b_t_s)\n\ntiny_rgb = RGBLed(pin14.pin, 4)\n\ndef on_event_timer_callback_r_d_X_c_p():\n  global distance, led_warning, cmd, counter\n  distance = aiot_ultrasonic.distance_cm()\n  if (pin16.read_digital()==1) and distance <= 60:\n    print((''.join([str(x2) for x2 in ['!', 'WARN', ':', '1', ':', 'DIST', ':', distance, '#']])), end =' ')\n    if led_warning == '1':\n      tiny_rgb.show(2, hex_to_rgb('#ff0000'))\n      tiny_rgb.show(4, hex_to_rgb('#ff0000'))\n    else:\n      tiny_rgb.show(2, hex_to_rgb('#000000'))\n      tiny_rgb.show(4, hex_to_rgb('#000000'))\n  else:\n    print((''.join([str(x3) for x3 in ['!', 'WARN', ':', '0', ':', 'DIST', ':', distance, '#']])), end =' ')\n    if led_warning == '1':\n      tiny_rgb.show(2, hex_to_rgb('#00ff00'))\n      tiny_rgb.show(4, hex_to_rgb('#00ff00'))\n    else:\n      tiny_rgb.show(2, hex_to_rgb('#000000'))\n      tiny_rgb.show(4, hex_to_rgb('#000000'))\n\nevent_manager.add_timer_event(10000, on_event_timer_callback_r_d_X_c_p)\n\ndef read_terminal_input():\n  spoll=uselect.poll()        # Set up an input polling object.\n  spoll.register(sys.stdin, uselect.POLLIN)    # Register polling object.\n\n  input = ''\n  if spoll.poll(0):\n    input = sys.stdin.read(1)\n\n    while spoll.poll(0):\n      input = input + sys.stdin.read(1)\n\n  spoll.unregister(sys.stdin)\n  return input\n\ndef on_event_condition_callback_V_m_O_y_K():\n  global distance, led_warning, cmd, counter\n  tiny_rgb.show(1, hex_to_rgb('#ffffff'))\n  tiny_rgb.show(3, hex_to_rgb('#ffffff'))\n\nevent_manager.add_condition_event(lambda:(cmd == 'on_led'), on_event_condition_callback_V_m_O_y_K)\n\ndef on_event_condition_callback_c_F_x_i_A():\n  global distance, led_warning, cmd, counter\n  led_warning = '1'\n  display.show(Image(\"00000:00008:00080:80800:08000\"))\n\nevent_manager.add_condition_event(lambda:(cmd == 'on_led_warn'), on_event_condition_callback_c_F_x_i_A)\n\ndef on_event_condition_callback_L_t_T_Z_h():\n  global distance, led_warning, cmd, counter\n  tiny_rgb.show(1, hex_to_rgb('#000000'))\n  tiny_rgb.show(3, hex_to_rgb('#000000'))\n\nevent_manager.add_condition_event(lambda:(cmd == 'off_led'), on_event_condition_callback_L_t_T_Z_h)\n\ndef on_event_condition_callback_C_f_t_X_j():\n  global distance, led_warning, cmd, counter\n  pin10.write_analog(round(translate(50, 0, 100, 0, 1023)))\n\nevent_manager.add_condition_event(lambda:(cmd == 'on_fan'), on_event_condition_callback_C_f_t_X_j)\n\ndef on_event_condition_callback_G_R_f_T_G():\n  global distance, led_warning, cmd, counter\n  led_warning = '0'\n  display.show(Image(\"00000:00808:00080:00808:00000\"))\n\nevent_manager.add_condition_event(lambda:(cmd == 'off_led_warn'), on_event_condition_callback_G_R_f_T_G)\n\ndef on_event_condition_callback_N_S_K_U_G():\n  global distance, led_warning, cmd, counter\n  pin10.write_analog(round(translate(0, 0, 100, 0, 1023)))\n\nevent_manager.add_condition_event(lambda:(cmd == 'off_fan'), on_event_condition_callback_N_S_K_U_G)\n\nif True:\n  aiot_lcd1602.move_to(0, 0)\n  aiot_lcd1602.putstr('WELCOM...')\n  time.sleep_ms(2000)\n  cmd = read_terminal_input()\n  counter = 0\n  while not cmd == 'oke_server':\n    if counter == 10:\n      break\n    counter = (counter if isinstance(counter, (int, float)) else 0) + 1\n    aiot_lcd1602.move_to(0, 0)\n    aiot_lcd1602.putstr('Connect to server...')\n    time.sleep_ms(1000)\n  aiot_ultrasonic = HCSR04(trigger_pin=pin3.pin, echo_pin=pin6.pin)\n\nwhile True:\n  event_manager.run()\n  cmd = read_terminal_input()\n","name":"demo","extensions":[{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"}],"device":"yolobit"}